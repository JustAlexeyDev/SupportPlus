#!/bin/bash

echo "üîç –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ IP –∞–¥—Ä–µ—Å–∞..."
echo ""

# –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å IP —á–µ—Ä–µ–∑ hostname
IP1=$(hostname -I 2>/dev/null | awk '{print $1}')

# –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å IP —á–µ—Ä–µ–∑ ip route
IP2=$(ip route get 1.1.1.1 2>/dev/null | awk '{print $7}' | head -1)

# –ü–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ ifconfig
IP3=$(ifconfig 2>/dev/null | grep -Eo 'inet (addr:)?([0-9]*\.){3}[0-9]*' | grep -Eo '([0-9]*\.){3}[0-9]*' | grep -v '127.0.0.1' | head -1)

# –í—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π IP
LOCAL_IP=""
if [ ! -z "$IP1" ] && [[ $IP1 =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
    LOCAL_IP=$IP1
elif [ ! -z "$IP2" ] && [[ $IP2 =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
    LOCAL_IP=$IP2
elif [ ! -z "$IP3" ] && [[ $IP3 =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
    LOCAL_IP=$IP3
fi

if [ -z "$LOCAL_IP" ]; then
    echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å"
    echo "üìù –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é:"
    echo "   Linux/Mac: hostname -I –∏–ª–∏ ifconfig"
    echo "   Windows: ipconfig"
    exit 1
fi

echo "‚úÖ –í–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å: $LOCAL_IP"
echo ""
echo "üì± –î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏:"
echo "   Frontend: http://$LOCAL_IP:3000"
echo "   Backend:  http://$LOCAL_IP:8000"
echo ""
echo "‚ö†Ô∏è  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:"
echo "   1. –¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —Ç–æ–π –∂–µ Wi-Fi —Å–µ—Ç–∏"
echo "   2. –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 3000 –∏ 8000"
echo "   3. –°–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã —Å HOST=0.0.0.0"
echo ""





